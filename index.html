<!DOCTYPE html>
<html lang="en" class="light">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OhLinux - AI Linux Tutor</title>

    <!-- Original Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- New Icons for Chat -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#171717",
                        "primary-dark": "#000000",
                        "background-light": "#ffffff",
                        "background-dark": "#0f172a",
                        "surface-light": "#f8fafc",
                        "surface-dark": "#1e293b",
                        "border-light": "#e2e8f0",
                        "border-dark": "#334155",
                    },
                    fontFamily: {
                        sans: ["Poppins", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.75rem",
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                },
            },
        };
    </script>
    <style>
        /* New Scrollbar Styles */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background-color: rgba(156, 163, 175, 0.3);
            border-radius: 20px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background-color: rgba(71, 85, 105, 0.5);
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-enter {
            animation: fadeIn 0.3s ease-out;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>

<body>

    <!-- LANDING PAGE (Restored) -->
    <div id="landing-page">
        <header class="hero-wrapper">
            <nav>
                <div class="nav-pill">
                    <div class="nav-left">
                        <a href="#" class="logo" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">
                            <img src="assets/logo.png" alt="TuxAI Logo" class="logo-img">
                        </a>
                    </div>
                    <!-- Desktop Menu -->
                    <div class="nav-center hidden-mobile">
                        <a href="#curriculum">Curriculum</a>
                        <a href="#about">About</a>
                        <a href="#pricing">Pricing</a>
                        <a href="#blog">Blog</a>
                    </div>
                    <div class="nav-right hidden-mobile">
                        <button onclick="startChat(null)" class="btn-primary"
                            style="padding: 0.6rem 1.25rem; font-size: 0.85rem;">Start Learning</button>
                    </div>

                    <!-- Hamburger Button (Mobile Only) -->
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                </div>

                <!-- Mobile Menu Dropdown -->
                <div id="mobile-menu" class="mobile-menu hidden">
                    <a href="#curriculum" onclick="toggleMobileMenu()">Curriculum</a>
                    <a href="#about" onclick="toggleMobileMenu()">About</a>
                    <a href="#pricing" onclick="toggleMobileMenu()">Pricing</a>
                    <a href="#blog" onclick="toggleMobileMenu()">Blog</a>
                    <div class="mobile-menu-divider"></div>
                    <button onclick="startChat(null); toggleMobileMenu()" class="btn-primary" style="width: 100%;">Start
                        Learning</button>
                </div>
            </nav>

            <div class="hero-container">
                <div class="hero-badge-pill">
                    <span class="pulse-dot"></span> Join +1000 Linux Learners <span class="arrow">→</span>
                </div>

                <h1 class="hero-title">Master Linux Through<br>Conversation</h1>

                <p class="hero-sub">The smarter way to manage academic servers and learn CLI<br>commands. Start with
                    tools that explain every step of the process.</p>

                <div class="search-container">
                    <form onsubmit="handleLandingSubmit(event)" class="search-input-wrapper">
                        <span class="search-icon material-symbols-outlined">search</span>
                        <input type="text" id="landing-input" class="search-input"
                            placeholder="How do I change file permissions?">
                        <button type="submit" class="search-btn-circle">
                            <span class="material-symbols-outlined">arrow_upward</span>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Hero Screenshot -->
            <img src="assets/Hero img.png" alt="Platform Dashboard" class="hero-screenshot animate-fade-in-up">
        </header>





        <!-- About Section (Redesigned) -->
        <section id="about" class="section-about-split">
            <div class="about-container">
                <div class="about-left">
                    <span class="about-label">About Us</span>
                </div>
                <div class="about-right">
                    <h2>Al Linux Tutor was created for a world where answers are instant, but deeper thinking is
                        disappearing. We believe real intelligence now lies in the courage to ask better, sharper, more
                        meaningful questions.</h2>
                    <p>As AI reshapes how we learn, work, and create, Al Linux Tutor stands as a reminder that progress
                        begins not with certainty, but with curiosity. We exist to revive the lost art of
                        questioning—challenging assumptions, opening new paths, and inspiring a culture where smart
                        means curious, thoughtful, and intentional.</p>
                    <p>What started as a simple idea has evolved into a dedicated tool helping students see clearer and
                        think deeper through the power of better questions compared to rote memorization.</p>
                </div>
            </div>
        </section>


        </section>

        <!-- Key Features Grid -->
        <section id="features-grid" class="section-features-grid">
            <div class="features-container">
                <div class="features-header">
                    <h2>AI Linux Tutor Key Features</h2>
                    <p>Master the command line with intelligent tools designed for student-centric learning and exam
                        success.</p>
                </div>

                <div class="grid-features">
                    <!-- Card 1: Natural Language -->
                    <div class="feature-card group">
                        <div class="card-visual visual-command">
                            <div class="cmd-bubble">
                                <span>How do I change permissions?</span>
                                <div class="icon-circle"><span class="material-symbols-outlined">arrow_upward</span>
                                </div>
                            </div>
                            <div class="cmd-code-block">
                                <div class="cmd-label"><span class="dot"></span> Generated Command</div>
                                <code>chmod 755 directory_name</code>
                            </div>
                        </div>
                        <h3>Natural Language Linux Input</h3>
                        <p>Ask Linux questions in plain English and get answers instantly.</p>
                    </div>

                    <!-- Card 2: Concept First -->
                    <div class="feature-card group">
                        <div class="card-visual visual-logic">
                            <div class="logic-badge"><span class="material-symbols-outlined">psychology</span>
                                Permissions
                            </div>
                            <div class="logic-flow">
                                <span class="flow-step">Why?</span>
                                <span class="flow-line"></span>
                                <span class="flow-step">Logic</span>
                                <span class="flow-line"></span>
                                <span class="flow-step">How?</span>
                            </div>
                        </div>
                        <h3>Concept-First Explanations</h3>
                        <p>Understand the why before the how for every concept.</p>
                    </div>

                    <!-- Card 3: Command Breakdown -->
                    <div class="feature-card group">
                        <div class="card-visual visual-breakdown">
                            <div class="breakdown-box">
                                <div class="breakdown-dots"><span></span><span></span><span></span></div>
                                <div class="breakdown-text">
                                    <span class="c-cmd">tar</span> <span class="c-flag">-czvf</span> <span
                                        class="c-arg">backup.tar.gz</span>
                                </div>
                            </div>
                            <!-- Labels simulated via CSS or simple HTML -->
                            <div class="breakdown-labels">
                                <span>Command</span>
                                <span>Flags</span>
                                <span>Target</span>
                            </div>
                        </div>
                        <h3>Command Examples with Syntax Breakdown</h3>
                        <p>Every command explained flag-by-flag with examples.</p>
                    </div>

                    <!-- Card 4: Study/Revision Mode -->
                    <div class="feature-card group">
                        <div class="card-visual visual-study">
                            <div class="study-notebook">
                                <div class="note-line"></div>
                                <div class="note-line"></div>
                                <div class="note-line short"></div>
                                <div class="note-line"></div>
                                <div class="revision-badge">
                                    <span class="material-symbols-outlined"
                                        style="font-size: 10px;">tips_and_updates</span>
                                    TIP
                                </div>
                            </div>
                        </div>
                        <h3>Study/Revision Mode</h3>
                        <p>Get exam-oriented explanations and revision advice.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Observed Learning Impact Section -->
        <section id="measurable-growth" class="section-measurable-growth">
            <div class="mg-header">
                <h2 class="mg-title">Observed<br>Learning Impact</h2>
            </div>

            <div class="mg-grid">
                <!-- Stat 1 -->
                <div class="mg-card">
                    <div class="mg-progress-container">
                        <div class="mg-limit-labels">
                            <span>0%</span>
                            <span>100%</span>
                        </div>
                        <div class="mg-bar-track">
                            <div class="mg-bar-fill" style="width: 88%"></div>
                        </div>
                    </div>
                    <div class="mg-stat-number">88<span>%</span></div>
                    <div class="mg-stat-title">CONCEPT CLARITY</div>
                    <p class="mg-stat-desc">Students report a significant jump in understanding complex shell operations
                        through contextual visualization.</p>
                </div>

                <!-- Stat 2 -->
                <div class="mg-card">
                    <div class="mg-progress-container">
                        <div class="mg-limit-labels">
                            <span>0%</span>
                            <span>100%</span>
                        </div>
                        <div class="mg-bar-track">
                            <div class="mg-bar-fill" style="width: 74%"></div>
                        </div>
                    </div>
                    <div class="mg-stat-number">74<span>%</span></div>
                    <div class="mg-stat-title">CONFIDENCE IN COMMANDS</div>
                    <p class="mg-stat-desc">Guided explanations reduce the fear of the terminal, empowering students to
                        experiment without risk.</p>
                </div>

                <!-- Stat 3 -->
                <div class="mg-card">
                    <div class="mg-progress-container">
                        <div class="mg-limit-labels">
                            <span>0%</span>
                            <span>100%</span>
                        </div>
                        <div class="mg-bar-track">
                            <div class="mg-bar-fill darker" style="width: 91%"></div>
                        </div>
                    </div>
                    <div class="mg-stat-number">91<span>%</span></div>
                    <div class="mg-stat-title">INFORMATION RETENTION</div>
                    <p class="mg-stat-desc">Concept-first learning leads to better long-term command memory and deeper
                        fundamental knowledge.</p>
                </div>
            </div>
        </section>

        <!-- Reviews Section -->
        <section id="reviews" class="section-reviews">
            <div class="reviews-container">
                <!-- Left Content -->
                <div class="reviews-left">
                    <div class="reviews-badge">
                        <span class="dot-green"></span> ACTIVE COMMUNITY
                    </div>
                    <h2 class="reviews-title">
                        What our<br>students<br>are saying
                        <span class="title-icon-box">
                            <span class="material-symbols-outlined">terminal</span>
                        </span>
                    </h2>
                    <p class="reviews-sub">From mastering the terminal to shell scripting automation, we help developers
                        command their environment with confidence.</p>

                    <div class="reviews-trust">
                        <div class="trust-item">
                            <span class="trust-label">TRUSTED PARTNERS</span>
                            <div class="trust-logos">
                                <div class="logo-circle bg-dark"></div>
                                <div class="logo-circle bg-dark"></div>
                                <div class="logo-circle bg-dark"></div>
                                <div class="logo-circle bg-light">+2k</div>
                            </div>
                        </div>
                        <div class="trust-divider"></div>
                        <div class="trust-item">
                            <span class="trust-label">RATED EXCELLENT: 5/5</span>
                            <div class="trust-stars">
                                <span class="material-symbols-outlined filled">star</span>
                                <span class="material-symbols-outlined filled">star</span>
                                <span class="material-symbols-outlined filled">star</span>
                                <span class="material-symbols-outlined filled">star</span>
                                <span class="material-symbols-outlined filled">star</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Content (Cards) -->
                <div class="reviews-right">
                    <!-- Card 1 -->
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar"
                                    style="background-image: url('https://i.pravatar.cc/150?u=a042581f4e29026024d');">
                                </div>
                                <div>
                                    <h4 class="reviewer-name">David Miller</h4>
                                    <span class="reviewer-role">@david_dev</span>
                                </div>
                            </div>
                            <span class="review-date">18 JUN</span>
                        </div>
                        <p class="review-text">"The Linux terminal used to terrify me. Now I'm writing automated bash
                            scripts for my entire team. Life changing!"</p>
                    </div>

                    <!-- Card 2 -->
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar"
                                    style="background-image: url('https://i.pravatar.cc/150?u=a042581f4e29026704d');">
                                </div>
                                <div>
                                    <h4 class="reviewer-name">Sarah Jenkins</h4>
                                    <span class="reviewer-role">Cloud Engineer</span>
                                </div>
                            </div>
                            <span class="review-date">19 JUL</span>
                        </div>
                        <p class="review-text">"AI Linux Tutor is the best resource I've found. The hands-on labs are
                            incredibly intuitive and effective."</p>
                    </div>

                    <!-- Card 3 -->
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar"
                                    style="background-image: url('https://i.pravatar.cc/150?u=a04258114e29026302d');">
                                </div>
                                <div>
                                    <h4 class="reviewer-name">Leah Thompson</h4>
                                    <span class="reviewer-role">Fullstack Student</span>
                                </div>
                            </div>
                            <span class="review-date">25 JUL</span>
                        </div>
                        <p class="review-text">"The personalized feedback from the AI is like having a senior engineer
                            sitting right next to you."</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="minimal-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="logo-small">
                        <img src="assets/logo.png" alt="Logo" class="footer-logo-img" style="height: 24px;">
                    </div>
                </div>
                <div class="footer-center">
                    <span>&copy; 2026 OhLinux. All rights reserved. Designed in Scratch.</span>
                </div>
                <div class="footer-right">
                    <a href="#"><span class="material-symbols-outlined icon-small">alternate_email</span></a>
                    <a href="#"><span class="material-symbols-outlined icon-small">facebook</span></a>
                    <a href="#"><span class="material-symbols-outlined icon-small">code</span></a>
                </div>
            </div>
        </footer>
    </div>


    <!-- NEW CHAT INTERFACE (Tailwind Integrated) -->
    <div id="chat-interface"
        class="hidden bg-surface-light dark:bg-background-dark text-slate-800 dark:text-slate-100 h-[100dvh] w-full flex overflow-hidden transition-colors duration-200 fixed top-0 left-0 z-50">

        <!-- Left Sidebar -->
        <aside id="chat-sidebar-left"
            class="w-72 flex flex-col border-r border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark flex-shrink-0 fixed inset-y-0 left-0 z-50 transition-transform transform -translate-x-full md:translate-x-0 md:static">
            <div class="p-6 flex items-center justify-between">
                <img src="assets/logo.png" alt="Logo" class="w-40 h-auto object-contain">
                <button onclick="toggleChatSidebarLeft()"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 md:hidden" title="Close Menu">
                    <span class="material-symbols-outlined text-xl">close</span>
                </button>
            </div>
            <nav class="flex-1 px-3 overflow-y-auto mt-4 block">
                <a id="nav-chat" onclick="resetChat()"
                    class="block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg bg-white dark:bg-slate-700 text-primary shadow-sm ring-1 ring-border-light dark:ring-border-dark cursor-pointer transition-colors"
                    href="#">
                    <span class="material-symbols-outlined text-primary">chat_bubble</span>
                    AI Chat
                </a>
                <a id="nav-dashboard" onclick="showPage('dashboard')"
                    class="block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"
                    href="#">
                    <span
                        class="material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200">dashboard</span>
                    Dashboard
                </a>
                <a id="nav-progress" onclick="showPage('progress')"
                    class="block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"
                    href="#">
                    <span
                        class="material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200">school</span>
                    My Progress
                </a>
                <a id="nav-resources" onclick="showPage('resources')"
                    class="block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"
                    href="#">
                    <span
                        class="material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200">library_books</span>
                    Resources
                </a>
                <div class="pt-5 pb-2">
                    <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider">Community</p>
                </div>
                <a id="nav-forum" onclick="showPage('forum')"
                    class="block w-full mb-1 flex items-center justify-between px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"
                    href="#">
                    <div class="flex items-center gap-3">
                        <span
                            class="material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200">forum</span>
                        Forum
                    </div>
                    <span class="px-2 py-0.5 text-[10px] font-bold bg-primary text-white rounded-full">NEW</span>
                </a>
                <a id="nav-history" onclick="showPage('history')"
                    class="block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"
                    href="#">
                    <span
                        class="material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200">history</span>
                    History
                </a>
            </nav>
            <div class="p-4 border-t border-border-light dark:border-border-dark space-y-2">
                <a id="nav-settings" onclick="showPage('settings')"
                    class="flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors cursor-pointer"
                    href="#">
                    <span class="material-symbols-outlined">settings</span>
                    Settings
                </a>
                <a id="nav-help" onclick="showPage('help')"
                    class="flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors cursor-pointer"
                    href="#">
                    <span class="material-symbols-outlined">help_outline</span>
                    Help
                </a>
            </div>
        </aside>

        <main class="flex-1 flex flex-col bg-background-light dark:bg-background-dark min-w-0 relative">
            <header
                class="h-16 flex items-center justify-between px-4 md:px-8 border-b border-transparent dark:border-border-dark shrink-0">
                <div class="flex items-center gap-3">
                    <button onclick="toggleChatSidebarLeft()"
                        class="md:hidden text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                    <div
                        class="items-center gap-2 text-slate-800 dark:text-slate-200 font-semibold text-lg hidden md:flex">
                        <span id="page-header-title">AI Chat</span>
                    </div>
                </div>
                <div class="flex items-center gap-2 md:gap-4">
                    <button onclick="toggleChatSidebarRight()"
                        class="md:hidden text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                        <span class="material-symbols-outlined">menu_book</span>
                    </button>
                    <button
                        class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors hidden md:block">
                        <span class="material-symbols-outlined">help_outline</span>
                    </button>

                </div>
            </header>

            <!-- WELCOME SCREEN -->
            <div id="chat-welcome" class="flex-1 overflow-y-auto px-8 pb-32 flex flex-col items-center justify-center">
                <div class="max-w-3xl w-full text-center space-y-8 animate-fade-in-up">
                    <div class="flex justify-center mb-6">
                        <img src="assets/Sandy AI.png" alt="AI Assistant" class="w-32 h-32 object-contain">
                    </div>
                    <div class="space-y-4">
                        <h1 class="text-4xl md:text-5xl font-bold text-slate-900 dark:text-white tracking-tight">
                            Welcome to Linux Tutor
                        </h1>
                        <p class="text-slate-500 dark:text-slate-400 text-lg max-w-xl mx-auto leading-relaxed">
                            Get started by typing your question below. Ask about any Linux command, concept, or topic.
                        </p>
                    </div>
                </div>
            </div>

            <!-- MESSAGES SCREEN (Hidden by default) -->
            <div id="messages-container" class="hidden flex-1 overflow-y-auto px-8 pb-32 flex flex-col gap-6 pt-6">
                <!-- Messages will be injected here -->
            </div>

            <!-- DASHBOARD PAGE -->
            <div id="page-dashboard" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-4xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Dashboard</h1>
                        <p class="text-slate-500 dark:text-slate-400">Track your Linux learning journey</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-light dark:border-border-dark">
                            <div class="flex items-center gap-4">
                                <div
                                    class="w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center">
                                    <span
                                        class="material-symbols-outlined text-blue-600 dark:text-blue-400">school</span>
                                </div>
                                <div>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">12</p>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Lessons Completed</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-light dark:border-border-dark">
                            <div class="flex items-center gap-4">
                                <div
                                    class="w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
                                    <span
                                        class="material-symbols-outlined text-green-600 dark:text-green-400">schedule</span>
                                </div>
                                <div>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">4.5h</p>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Time Spent</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-light dark:border-border-dark">
                            <div class="flex items-center gap-4">
                                <div
                                    class="w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center">
                                    <span
                                        class="material-symbols-outlined text-orange-600 dark:text-orange-400">local_fire_department</span>
                                </div>
                                <div>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">7</p>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Day Streak</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Quick Actions</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button onclick="showPage('chat')"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">play_arrow</span>
                                <span class="font-medium text-slate-700 dark:text-slate-200">Continue Learning</span>
                            </button>
                            <button onclick="showPage('resources')"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">menu_book</span>
                                <span class="font-medium text-slate-700 dark:text-slate-200">Browse Resources</span>
                            </button>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Recent Activity</h2>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark divide-y divide-border-light dark:divide-border-dark">
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">chat_bubble</span>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-700 dark:text-slate-200">Asked about file
                                        permissions</p>
                                    <p class="text-xs text-slate-500">2 hours ago</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">check_circle</span>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-700 dark:text-slate-200">Completed Unit 1:
                                        Introduction to Linux</p>
                                    <p class="text-xs text-slate-500">Yesterday</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">terminal</span>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-700 dark:text-slate-200">Practiced basic
                                        commands</p>
                                    <p class="text-xs text-slate-500">2 days ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MY PROGRESS PAGE -->
            <div id="page-progress" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-4xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">My Progress</h1>
                        <p class="text-slate-500 dark:text-slate-400">Track your completion across all units</p>
                    </div>

                    <!-- Overall Progress -->
                    <div
                        class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-light dark:border-border-dark">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-lg font-semibold text-slate-900 dark:text-white">Overall Completion</h2>
                            <span class="text-2xl font-bold text-primary">35%</span>
                        </div>
                        <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3">
                            <div class="bg-primary h-3 rounded-full" style="width: 35%"></div>
                        </div>
                    </div>

                    <!-- Unit Progress -->
                    <div class="space-y-4">
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white">Unit Progress</h2>

                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-slate-700 dark:text-slate-200">Unit 1: Introduction to
                                    Linux</span>
                                <span class="text-sm font-semibold text-green-600">100%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>

                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-slate-700 dark:text-slate-200">Unit 2: File System
                                    Hierarchy</span>
                                <span class="text-sm font-semibold text-blue-600">60%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                        </div>

                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-slate-700 dark:text-slate-200">Unit 3: Basic
                                    Commands</span>
                                <span class="text-sm font-semibold text-blue-600">15%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 15%"></div>
                            </div>
                        </div>

                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-slate-700 dark:text-slate-200">Unit 4: Permissions &
                                    Users</span>
                                <span class="text-sm font-semibold text-slate-400">0%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 0%"></div>
                            </div>
                        </div>

                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-slate-700 dark:text-slate-200">Unit 5: Shell
                                    Scripting</span>
                                <span class="text-sm font-semibold text-slate-400">0%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Badges -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Badges Earned</h2>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div
                                class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark text-center">
                                <div
                                    class="w-12 h-12 mx-auto mb-2 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center">
                                    <span class="material-symbols-outlined text-yellow-600">star</span>
                                </div>
                                <p class="text-sm font-medium text-slate-700 dark:text-slate-200">First Steps</p>
                            </div>
                            <div
                                class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark text-center">
                                <div
                                    class="w-12 h-12 mx-auto mb-2 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
                                    <span class="material-symbols-outlined text-green-600">check_circle</span>
                                </div>
                                <p class="text-sm font-medium text-slate-700 dark:text-slate-200">Unit Master</p>
                            </div>
                            <div
                                class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark text-center opacity-50">
                                <div
                                    class="w-12 h-12 mx-auto mb-2 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center">
                                    <span class="material-symbols-outlined text-slate-400">lock</span>
                                </div>
                                <p class="text-sm font-medium text-slate-400">Command Pro</p>
                            </div>
                            <div
                                class="bg-white dark:bg-surface-dark rounded-xl p-4 border border-border-light dark:border-border-dark text-center opacity-50">
                                <div
                                    class="w-12 h-12 mx-auto mb-2 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center">
                                    <span class="material-symbols-outlined text-slate-400">lock</span>
                                </div>
                                <p class="text-sm font-medium text-slate-400">Script Wizard</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RESOURCES PAGE -->
            <div id="page-resources" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-4xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Resources</h1>
                        <p class="text-slate-500 dark:text-slate-400">Curated Linux learning materials and references
                        </p>
                    </div>

                    <!-- Command Cheat Sheet -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Command Cheat Sheet</h2>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark overflow-hidden">
                            <table class="w-full text-sm">
                                <thead class="bg-slate-50 dark:bg-slate-800">
                                    <tr>
                                        <th class="text-left p-4 font-semibold text-slate-700 dark:text-slate-200">
                                            Command</th>
                                        <th class="text-left p-4 font-semibold text-slate-700 dark:text-slate-200">
                                            Description</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-border-light dark:divide-border-dark">
                                    <tr>
                                        <td class="p-4 font-mono text-primary">ls</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">List directory contents</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">cd</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Change directory</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">pwd</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Print working directory</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">mkdir</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Create a directory</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">rm</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Remove files or directories
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">cp</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Copy files or directories
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">mv</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Move or rename files</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">chmod</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Change file permissions</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">grep</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Search text patterns</td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 font-mono text-primary">sudo</td>
                                        <td class="p-4 text-slate-600 dark:text-slate-400">Execute as superuser</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- External Resources -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">External Resources</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <a href="https://www.kernel.org/" target="_blank"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">language</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">The Linux Kernel</p>
                                    <p class="text-sm text-slate-500">Official kernel documentation</p>
                                </div>
                            </a>
                            <a href="https://man7.org/linux/man-pages/" target="_blank"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">description</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Linux Man Pages</p>
                                    <p class="text-sm text-slate-500">Online manual pages</p>
                                </div>
                            </a>
                            <a href="https://tldr.sh/" target="_blank"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">summarize</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">TLDR Pages</p>
                                    <p class="text-sm text-slate-500">Simplified command examples</p>
                                </div>
                            </a>
                            <a href="https://linuxjourney.com/" target="_blank"
                                class="flex items-center gap-4 p-4 bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark hover:border-slate-400 transition-colors">
                                <span class="material-symbols-outlined text-primary">school</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Linux Journey</p>
                                    <p class="text-sm text-slate-500">Free learning platform</p>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Recommended Reading -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Recommended Books</h2>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark divide-y divide-border-light dark:divide-border-dark">
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">menu_book</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">The Linux Command Line</p>
                                    <p class="text-sm text-slate-500">by William Shotts</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">menu_book</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Linux Pocket Guide</p>
                                    <p class="text-sm text-slate-500">by Daniel Barrett</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 p-4">
                                <span class="material-symbols-outlined text-slate-400">menu_book</span>
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">How Linux Works</p>
                                    <p class="text-sm text-slate-500">by Brian Ward</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SETTINGS PAGE -->
            <div id="page-settings" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-2xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Settings</h1>
                        <p class="text-slate-500 dark:text-slate-400">Customize your learning experience</p>
                    </div>

                    <!-- Appearance -->
                    <div
                        class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                        <div class="p-4 border-b border-border-light dark:border-border-dark">
                            <h2 class="font-semibold text-slate-900 dark:text-white">Appearance</h2>
                        </div>
                        <div class="p-4 space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Dark Mode</p>
                                    <p class="text-sm text-slate-500">Switch between light and dark themes</p>
                                </div>
                                <button onclick="toggleDarkMode()" id="dark-mode-toggle"
                                    class="w-12 h-6 bg-slate-200 dark:bg-primary rounded-full relative transition-colors">
                                    <span
                                        class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform dark:translate-x-6"></span>
                                </button>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Font Size</p>
                                    <p class="text-sm text-slate-500">Adjust text size for readability</p>
                                </div>
                                <select
                                    class="bg-slate-100 dark:bg-slate-700 border-none rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-slate-200">
                                    <option>Small</option>
                                    <option selected>Medium</option>
                                    <option>Large</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Notifications -->
                    <div
                        class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                        <div class="p-4 border-b border-border-light dark:border-border-dark">
                            <h2 class="font-semibold text-slate-900 dark:text-white">Notifications</h2>
                        </div>
                        <div class="p-4 space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Daily Reminders</p>
                                    <p class="text-sm text-slate-500">Get reminded to practice daily</p>
                                </div>
                                <button class="w-12 h-6 bg-primary rounded-full relative">
                                    <span
                                        class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full translate-x-6"></span>
                                </button>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-slate-700 dark:text-slate-200">Progress Updates</p>
                                    <p class="text-sm text-slate-500">Weekly progress summary</p>
                                </div>
                                <button class="w-12 h-6 bg-slate-200 dark:bg-slate-600 rounded-full relative">
                                    <span class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full"></span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Data -->
                    <div
                        class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                        <div class="p-4 border-b border-border-light dark:border-border-dark">
                            <h2 class="font-semibold text-slate-900 dark:text-white">Data & Privacy</h2>
                        </div>
                        <div class="p-4 space-y-4">
                            <button
                                class="w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors">
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-slate-500">download</span>
                                    <span class="font-medium text-slate-700 dark:text-slate-200">Export My Data</span>
                                </div>
                                <span class="material-symbols-outlined text-slate-400">chevron_right</span>
                            </button>
                            <button
                                class="w-full flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors">
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-red-500">delete</span>
                                    <span class="font-medium text-red-600 dark:text-red-400">Reset Progress</span>
                                </div>
                                <span class="material-symbols-outlined text-red-400">chevron_right</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- HELP PAGE -->
            <div id="page-help" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-2xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Help & Support</h1>
                        <p class="text-slate-500 dark:text-slate-400">Get answers to common questions</p>
                    </div>

                    <!-- FAQ -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Frequently Asked Questions
                        </h2>
                        <div class="space-y-3">
                            <details
                                class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                                <summary class="p-4 font-medium text-slate-700 dark:text-slate-200 cursor-pointer">How
                                    do I start learning?</summary>
                                <div class="px-4 pb-4 text-sm text-slate-600 dark:text-slate-400">
                                    Click on "AI Chat" in the sidebar and start asking questions about Linux. You can
                                    also click on any unit in the Course Syllabus to begin structured learning.
                                </div>
                            </details>
                            <details
                                class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                                <summary class="p-4 font-medium text-slate-700 dark:text-slate-200 cursor-pointer">Is my
                                    progress saved?</summary>
                                <div class="px-4 pb-4 text-sm text-slate-600 dark:text-slate-400">
                                    Yes! Your progress is automatically saved in your browser's local storage. You can
                                    continue learning from where you left off.
                                </div>
                            </details>
                            <details
                                class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                                <summary class="p-4 font-medium text-slate-700 dark:text-slate-200 cursor-pointer">Can I
                                    use this offline?</summary>
                                <div class="px-4 pb-4 text-sm text-slate-600 dark:text-slate-400">
                                    The AI Chat feature requires an internet connection. However, you can access
                                    Resources and your Progress data offline after the initial load.
                                </div>
                            </details>
                            <details
                                class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark">
                                <summary class="p-4 font-medium text-slate-700 dark:text-slate-200 cursor-pointer">How
                                    accurate is the AI tutor?</summary>
                                <div class="px-4 pb-4 text-sm text-slate-600 dark:text-slate-400">
                                    Our AI is trained on extensive Linux documentation. However, always verify commands
                                    before running them in production environments.
                                </div>
                            </details>
                        </div>
                    </div>

                    <!-- Keyboard Shortcuts -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Keyboard Shortcuts</h2>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark overflow-hidden">
                            <table class="w-full text-sm">
                                <tbody class="divide-y divide-border-light dark:divide-border-dark">
                                    <tr>
                                        <td class="p-4 text-slate-700 dark:text-slate-200">Focus chat input</td>
                                        <td class="p-4 text-right"><kbd
                                                class="px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-xs font-mono">/</kbd>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 text-slate-700 dark:text-slate-200">Send message</td>
                                        <td class="p-4 text-right"><kbd
                                                class="px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-xs font-mono">Enter</kbd>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 text-slate-700 dark:text-slate-200">New line in chat</td>
                                        <td class="p-4 text-right"><kbd
                                                class="px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-xs font-mono">Shift
                                                + Enter</kbd></td>
                                    </tr>
                                    <tr>
                                        <td class="p-4 text-slate-700 dark:text-slate-200">Toggle dark mode</td>
                                        <td class="p-4 text-right"><kbd
                                                class="px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-xs font-mono">Ctrl
                                                + D</kbd></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Contact -->
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Contact Us</h2>
                        <div
                            class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-6 text-center">
                            <span class="material-symbols-outlined text-4xl text-slate-300 mb-4">mail</span>
                            <p class="text-slate-600 dark:text-slate-400 mb-4">Need more help? Reach out to our support
                                team.</p>
                            <a href="mailto:support@linuxtutor.com"
                                class="inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors">
                                <span class="material-symbols-outlined text-sm">send</span>
                                Contact Support
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FORUM PAGE -->
            <div id="page-forum" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-2xl mx-auto text-center py-16">
                    <div
                        class="w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center">
                        <span class="material-symbols-outlined text-4xl text-slate-400">forum</span>
                    </div>
                    <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">Community Forum</h1>
                    <p class="text-slate-500 dark:text-slate-400 mb-8 max-w-md mx-auto">
                        Our community forum is coming soon! Connect with other learners, share tips, and get help from
                        the community.
                    </p>
                    <span
                        class="inline-flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium">
                        <span class="material-symbols-outlined text-sm">schedule</span>
                        Coming Soon
                    </span>
                </div>
            </div>

            <!-- HISTORY PAGE -->
            <div id="page-history" class="hidden flex-1 overflow-y-auto px-8 py-8">
                <div class="max-w-4xl mx-auto space-y-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Chat History</h1>
                        <p class="text-slate-500 dark:text-slate-400">Review your previous conversations</p>
                    </div>

                    <div
                        class="bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark divide-y divide-border-light dark:divide-border-dark">
                        <div class="flex items-center gap-4 p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors"
                            onclick="showPage('chat')">
                            <span class="material-symbols-outlined text-slate-400">chat_bubble</span>
                            <div class="flex-1">
                                <p class="font-medium text-slate-700 dark:text-slate-200">File Permissions Discussion
                                </p>
                                <p class="text-sm text-slate-500">chmod, chown, and permission bits explained</p>
                            </div>
                            <span class="text-xs text-slate-400">2 hours ago</span>
                        </div>
                        <div class="flex items-center gap-4 p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors"
                            onclick="showPage('chat')">
                            <span class="material-symbols-outlined text-slate-400">chat_bubble</span>
                            <div class="flex-1">
                                <p class="font-medium text-slate-700 dark:text-slate-200">Bash Commands Practice</p>
                                <p class="text-sm text-slate-500">ls, cd, mkdir, rm commands</p>
                            </div>
                            <span class="text-xs text-slate-400">Yesterday</span>
                        </div>
                        <div class="flex items-center gap-4 p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors"
                            onclick="showPage('chat')">
                            <span class="material-symbols-outlined text-slate-400">chat_bubble</span>
                            <div class="flex-1">
                                <p class="font-medium text-slate-700 dark:text-slate-200">Introduction to Linux</p>
                                <p class="text-sm text-slate-500">History and philosophy of Linux</p>
                            </div>
                            <span class="text-xs text-slate-400">3 days ago</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="chat-input-container"
                class="fixed bottom-0 left-0 right-0 p-4 pb-4 md:absolute md:pb-6 z-30 bg-gradient-to-t from-background-light dark:from-background-dark via-background-light dark:via-background-dark to-transparent w-full md:w-auto">
                <div class="max-w-3xl mx-auto">
                    <div
                        class="relative bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-600 rounded-full shadow-lg dark:shadow-slate-900/50 transition-shadow flex items-center">
                        <textarea id="chat-input"
                            class="w-full bg-transparent border-none outline-none focus:ring-0 focus:outline-none text-slate-800 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 resize-none py-3 px-5 pr-14 text-base text-left"
                            placeholder="Ask about Linux..." rows="1"></textarea>
                        <button onclick="handleChatSubmit()"
                            class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full text-white bg-primary hover:bg-primary-dark transition-colors flex items-center justify-center cursor-pointer">
                            <span class="material-symbols-outlined text-base">arrow_upward</span>
                        </button>
                    </div>
                    <p class="text-center text-[10px] text-slate-400 mt-3">
                        AI can be inaccurate. Always verify content.
                    </p>
                </div>
            </div>
        </main>

        <!-- Right Sidebar Syllabus -->
        <aside id="chat-sidebar-right"
            class="w-80 border-l border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark flex flex-col flex-shrink-0 fixed inset-y-0 right-0 z-50 transition-transform transform translate-x-full md:translate-x-0 md:static">
            <div
                class="p-6 pb-4 border-b border-border-light dark:border-border-dark flex items-center justify-between">
                <h2 class="font-semibold text-slate-800 dark:text-slate-200">Course Syllabus</h2>
                <button onclick="toggleChatSidebarRight()"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200">
                    <span class="material-symbols-outlined md:hidden">close</span>
                    <span class="material-symbols-outlined hidden md:block">more_horiz</span>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-4 space-y-3">
                <div onclick="startChat('Teach me Unit 1: Introduction to Linux')"
                    class="cursor-pointer bg-white dark:bg-slate-700/30 rounded-xl p-4 border border-border-light dark:border-slate-700/50 hover:border-slate-300 transition-colors">
                    <div class="mb-1 text-xs font-bold text-slate-400 uppercase tracking-wider">Unit 1</div>
                    <h3 class="text-sm font-semibold text-slate-800 dark:text-slate-100 mb-1">Introduction to Linux</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400">History, philosophy and basic structure of the
                        OS.</p>
                </div>
                <div onclick="startChat('Teach me Unit 2: File System Hierarchy')"
                    class="cursor-pointer bg-white dark:bg-slate-700/30 rounded-xl p-4 border border-border-light dark:border-slate-700/50 hover:border-slate-300 transition-colors">
                    <div class="mb-1 text-xs font-bold text-slate-400 uppercase tracking-wider">Unit 2</div>
                    <h3 class="text-sm font-semibold text-slate-800 dark:text-slate-100 mb-1">File System Hierarchy</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400">Understanding /, /home, /etc, /var and
                        navigating directories.</p>
                </div>
                <div onclick="startChat('Teach me Unit 3: Basic Commands')"
                    class="cursor-pointer bg-white dark:bg-slate-700/30 rounded-xl p-4 border border-border-light dark:border-slate-700/50 hover:border-slate-300 transition-colors">
                    <div class="mb-1 text-xs font-bold text-slate-400 uppercase tracking-wider">Unit 3</div>
                    <h3 class="text-sm font-semibold text-slate-800 dark:text-slate-100 mb-1">Basic Commands</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400">ls, cd, cp, mv, rm, mkdir and basic file
                        manipulation.</p>
                </div>
                <div onclick="startChat('Teach me Unit 4: Permissions & Users')"
                    class="cursor-pointer bg-white dark:bg-slate-700/30 rounded-xl p-4 border border-border-light dark:border-slate-700/50 hover:border-slate-300 transition-colors">
                    <div class="mb-1 text-xs font-bold text-slate-400 uppercase tracking-wider">Unit 4</div>
                    <h3 class="text-sm font-semibold text-slate-800 dark:text-slate-100 mb-1">Permissions &amp; Users
                    </h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400">Chmod, chown, useradd, and permission bits.
                    </p>
                </div>
                <div onclick="startChat('Teach me Unit 5: Shell Scripting')"
                    class="cursor-pointer bg-white dark:bg-slate-700/30 rounded-xl p-4 border border-border-light dark:border-slate-700/50 hover:border-slate-300 transition-colors">
                    <div class="mb-1 text-xs font-bold text-slate-400 uppercase tracking-wider">Unit 5</div>
                    <h3 class="text-sm font-semibold text-slate-800 dark:text-slate-100 mb-1">Shell Scripting</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400">Variables, loops, logic, and automating tasks.
                    </p>
                </div>
            </div>
        </aside>


        <!-- Overlay for Mobile Sidebars -->
        <div id="chat-sidebar-overlay" onclick="closeChatSidebars()"
            class="fixed inset-0 bg-black/50 z-40 hidden md:hidden glass-overlay"></div>
    </div>

    <!-- MAIN LOGIC -->
    <script src="config.js"></script>
    <script>
        // --- CONFIGURATION ---
        // API_KEY is now loaded from config.js

        const SYLLABUS = `
        UNIT 1: INTRODUCTION (Architecture, Kernel, Shell).
        UNIT 2: FILES (cp, mv, rm, ls, mkdir).
        UNIT 3: VI EDITOR & PIPES (Modes, Redirection, Grep).
        UNIT 4: SECURITY (chmod, chown, Shell Vars).
        UNIT 5: LOGIC (If, Case, Loops, Scripts).
        `;

        const SYSTEM_PROMPT = `
        ROLE: Expert Linux Professor.
        STRICT RULES:
        1. SCOPE: You MUST answer ONLY questions related to Linux and the syllabus provided.
        2. REFUSAL: If the user asks about ANYTHING else, you MUST refuse.
           - Refusal Message: "This topic is not covered in the Linux syllabus."
        3. FORMAT: 
           - Give the answer DIRECTLY. 
           - Use simple language.
           - Use code blocks for commands.
        SYLLABUS REFERENCE: ${SYLLABUS}
        `;

        let messages = [];

        // --- INITIALIZATION ---
        lucide.createIcons();

        // Handle Enter Key in Textarea
        document.getElementById('chat-input').addEventListener('keydown', function (e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                handleChatSubmit();
            }
        });

        function showLanding() {
            document.getElementById('landing-page').classList.remove('hidden');
            document.getElementById('chat-interface').classList.add('hidden');
            messages = [];
            document.getElementById('messages-container').innerHTML = '';
            // Reset to welcome
            document.getElementById('chat-welcome').classList.remove('hidden');
            document.getElementById('messages-container').classList.add('hidden');
        }

        // Logic to catch landing submit
        function handleLandingSubmit(e) {
            e.preventDefault();
            const input = document.getElementById('landing-input');
            const text = input.value.trim();
            if (text) {
                document.getElementById('landing-page').classList.add('hidden');
                document.getElementById('chat-interface').classList.remove('hidden');
                startChat(text);
                input.value = '';
            }
        }

        function resetChat() {
            showPage('chat');
            document.getElementById('chat-welcome').classList.remove('hidden');
            document.getElementById('messages-container').classList.add('hidden');
            document.getElementById('messages-container').innerHTML = '';
            messages = [];
        }

        // Page Navigation
        function showPage(page) {
            // Hide all pages
            const pages = ['chat-welcome', 'messages-container', 'page-dashboard', 'page-progress', 'page-resources', 'page-settings', 'page-help', 'page-forum', 'page-history'];
            pages.forEach(p => {
                const el = document.getElementById(p);
                if (el) el.classList.add('hidden');
            });

            // Hide/show input bar based on page
            const inputBar = document.getElementById('chat-input-container');

            // Show requested page
            if (page === 'chat') {
                document.getElementById('chat-welcome').classList.remove('hidden');
                if (inputBar) inputBar.classList.remove('hidden');
            } else {
                const pageEl = document.getElementById('page-' + page);
                if (pageEl) {
                    pageEl.classList.remove('hidden');
                }
                if (inputBar) inputBar.classList.add('hidden');
            }

            // Update header title
            const headerTitle = document.getElementById('page-header-title');
            const titles = {
                'chat': 'AI Chat',
                'dashboard': 'Dashboard',
                'progress': 'My Progress',
                'resources': 'Resources',
                'settings': 'Settings',
                'help': 'Help & Support',
                'forum': 'Community Forum',
                'history': 'Chat History'
            };
            if (headerTitle && titles[page]) {
                headerTitle.innerText = titles[page];
            }

            // Update Sidebar Active State
            updateSidebarActiveState(page);
        }

        function updateSidebarActiveState(activePage) {
            const navIds = {
                'chat': 'nav-chat',
                'dashboard': 'nav-dashboard',
                'progress': 'nav-progress',
                'resources': 'nav-resources',
                'forum': 'nav-forum',
                'history': 'nav-history',
                'settings': 'nav-settings',
                'help': 'nav-help'
            };

            const baseClass = "block w-full mb-1 flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg cursor-pointer transition-colors group";
            const activeExtensions = "bg-white dark:bg-slate-700 text-primary shadow-sm ring-1 ring-border-light dark:ring-border-dark";
            const inactiveExtensions = "text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50";

            Object.keys(navIds).forEach(page => {
                const el = document.getElementById(navIds[page]);
                if (!el) return;

                // Reset to base class to clear any potential artifacts
                // We preserve 'group' and specific sizing but reset the color/bg classes
                el.className = baseClass;

                const icon = el.querySelector('.material-symbols-outlined');
                if (icon) {
                    // Reset icon class
                    icon.className = "material-symbols-outlined group-hover:text-slate-900 dark:group-hover:text-slate-200";
                }

                if (page === activePage) {
                    el.classList.add(...activeExtensions.split(" "));
                    if (icon) {
                        icon.classList.remove('group-hover:text-slate-900', 'dark:group-hover:text-slate-200');
                        icon.classList.add('text-primary');
                    }
                } else {
                    el.classList.add(...inactiveExtensions.split(" "));
                }
            });
        }

        // Expose function globally
        window.updateSidebarActiveState = updateSidebarActiveState;

        // Dark Mode Toggle
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            // Save preference
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.setItem('darkMode', isDark ? 'true' : 'false');
        }

        // Load dark mode preference on init
        if (localStorage.getItem('darkMode') === 'true') {
            document.documentElement.classList.add('dark');
        }

        function switchToChatView() {
            document.getElementById('chat-welcome').classList.add('hidden');
            document.getElementById('messages-container').classList.remove('hidden');
            // Show input bar
            const inputBar = document.getElementById('chat-input-container');
            if (inputBar) inputBar.classList.remove('hidden');
        }

        function startChat(initialMsg) {
            document.getElementById('landing-page').classList.add('hidden');
            document.getElementById('chat-interface').classList.remove('hidden');

            if (initialMsg) {
                switchToChatView();
                // Wait a tiny bit for UI update
                setTimeout(() => {
                    sendMessage(initialMsg);
                    updateSidebarActiveState('chat');
                }, 100);
            } else {
                // Ensure Sidebar is updated on load (default to chat)
                updateSidebarActiveState('chat');
            }
        }

        function handleChatSubmit() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if (text) {
                switchToChatView();
                sendMessage(text);
                input.value = '';
            }
        }

        function appendMessage(role, text) {
            const container = document.getElementById('messages-container');
            const div = document.createElement('div');

            // Tailwind Styles for Bubbles
            const baseClasses = "max-w-[85%] p-4 rounded-xl text-sm leading-relaxed message-enter";
            const userClasses = "self-end bg-primary text-white rounded-br-none";
            const aiClasses = "self-start bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 border border-border-light dark:border-slate-600 rounded-bl-none shadow-sm";

            div.className = `${baseClasses} ${role === 'user' ? userClasses : aiClasses}`;

            // Formatting
            let formattedText = text
                .replace(/^### (.*$)/gim, '<h3 class="font-bold text-base mb-1">$1</h3>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/```([\s\S]*?)```/g, '<pre class="bg-gray-900 text-gray-100 p-3 rounded-lg overflow-x-auto my-2 font-mono text-xs"><code>$1</code></pre>')
                .replace(/`([^`]+)`/g, '<code class="bg-gray-200 dark:bg-gray-600 px-1 py-0.5 rounded text-pink-600 dark:text-pink-400 font-mono text-xs">$1</code>')
                .replace(/\n/g, '<br>');

            div.innerHTML = formattedText;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        async function sendMessage(text) {
            appendMessage('user', text);
            messages.push({ role: 'user', parts: [{ text: text }] });

            // Loading Indicator
            const container = document.getElementById('messages-container');
            const loadingDiv = document.createElement('div');
            loadingDiv.className = "self-start bg-white dark:bg-slate-700 text-slate-500 p-4 rounded-xl rounded-bl-none border border-border-light dark:border-slate-600 shadow-sm text-sm";
            loadingDiv.innerHTML = 'Thinking...';
            loadingDiv.id = 'loading-msg';
            container.appendChild(loadingDiv);
            container.scrollTop = container.scrollHeight;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-flash-latest:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ role: 'user', parts: [{ text: SYSTEM_PROMPT + "\nUser Question: " + text }] }]
                    })
                });

                const data = await response.json();
                const loader = document.getElementById('loading-msg');
                if (loader) loader.remove();

                if (data.error) {
                    appendMessage('assistant', `API Error: ${data.error.message}`);
                    console.error("Gemini API Error:", data);
                } else if (data.candidates && data.candidates[0].content) {
                    const reply = data.candidates[0].content.parts[0].text;
                    appendMessage('assistant', reply);
                    messages.push({ role: 'model', parts: [{ text: reply }] });
                } else {
                    appendMessage('assistant', "Error: No response text found.");
                }
            } catch (error) {
                const loader = document.getElementById('loading-msg');
                if (loader) loader.remove();
                appendMessage('assistant', "Error: Network issue.");
                console.error(error);
            }
        }
    </script>
    <script>
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- CHAT SIDEBAR LOGIC ---
        function toggleChatSidebarLeft() {
            const sidebar = document.getElementById('chat-sidebar-left');
            const overlay = document.getElementById('chat-sidebar-overlay');
            const otherSidebar = document.getElementById('chat-sidebar-right');

            // Close other sidebar if open
            if (!otherSidebar.classList.contains('translate-x-full')) {
                toggleChatSidebarRight();
            }

            const isClosed = sidebar.classList.contains('-translate-x-full');
            if (isClosed) {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        function toggleChatSidebarRight() {
            const sidebar = document.getElementById('chat-sidebar-right');
            const overlay = document.getElementById('chat-sidebar-overlay');
            const otherSidebar = document.getElementById('chat-sidebar-left');

            // Close other sidebar if open
            if (!otherSidebar.classList.contains('-translate-x-full')) {
                toggleChatSidebarLeft();
            }

            const isClosed = sidebar.classList.contains('translate-x-full');
            if (isClosed) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        function closeChatSidebars() {
            const left = document.getElementById('chat-sidebar-left');
            const right = document.getElementById('chat-sidebar-right');
            const overlay = document.getElementById('chat-sidebar-overlay');

            left.classList.add('-translate-x-full');
            right.classList.add('translate-x-full');
            overlay.classList.add('hidden');
        }

        // Close sidebar when clicking a nav link on mobile
        document.querySelectorAll('#chat-sidebar-left a, #chat-sidebar-right div[onclick]').forEach(el => {
            el.addEventListener('click', () => {
                if (window.innerWidth < 768) {
                    closeChatSidebars();
                }
            });
        });
    </script>
</body>

</html>